mode: daemonset

config:
  receivers:
    # Collect own metrics
    prometheus:
      config:
        scrape_configs:
        - job_name: 'otel-collector'
          scrape_interval: 10s
          static_configs:
          - targets: ['0.0.0.0:8888']

  processors:
    batch: {}

  exporters:
    logging:
      logLevel: debug
    prometheusremotewrite:
      endpoint: https://524938:eyJrIjoiNDMxMjBmNTRkNDJhYThkMGZkZTUyNWE0YzBiMzc0NmMwM2NhNTM5NiIsIm4iOiJsb2NhbC1vdGVsIiwiaWQiOjY4OTI1OH0=@prometheus-prod-10-prod-us-central-0.grafana.net/api/prom/push

  service:
    pipelines:
      metrics:
        receivers: [prometheus]
        processors: [batch]
        exporters: [prometheusremotewrite]
